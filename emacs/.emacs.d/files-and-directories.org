
* Dired
  #+begin_src emacs-lisp
    (setq ls-lisp-use-insert-directory-program t) ;same ls-lisp for Dired regardless of the platform
    (setq dired-listing-switches "-alh")
    ;; on mac there is some weird prefixing going on for GNU Tools like ls.
    ;; I favor GNU ls over MacOSX default ls
    (when *is-mac*
      (setq insert-directory-program "gls"))

    (require 'dired )
    (defun my-dired-mode-setup ()
      "to be run as hook for `dired-mode'."
      (dired-hide-details-mode 1))
    (add-hook 'dired-mode-hook 'my-dired-mode-setup)

    (put 'dired-find-alternate-file 'disabled nil)
    (setq dired-dwim-target t)
    (add-hook 'dired-load-hook
              (lambda ()
                (load "dired-x")
                ;; Set dired-x global variables here.  For example:
                ;; (setq dired-guess-shell-gnutar "gtar")
                ;; (setq dired-x-hands-off-my-keys nil)
                (setq dired-recursive-copies (quote always)) ; “always” means no asking
                (setq dired-recursive-deletes (quote top)) ; “top” means ask once
                ))

    (eval-after-load "dired"
      '(progn
         (define-key dired-mode-map "-" 'dired-up-directory)
         (define-key dired-mode-map (kbd "C-u k") 'dired-kill-subdir)
         (define-key dired-mode-map (kbd "/") 'evil-search-forward)
         (define-key dired-mode-map (kbd "j") 'dired-next-line)
         (define-key dired-mode-map (kbd "k") 'dired-previous-line)
         (evil-define-key 'normal dired-mode-map
           "gg" 'evil-goto-first-line
           "^" '(lambda () (interactive) (find-alternate-file "..")))))

    (define-key package-menu-mode-map (kbd "/") 'evil-search-forward)
  #+end_src
* Counsel
  I redefine the standard ~C-x C-f~ to use counsel. It allows me to do
  pretty cool stuff with it [[https://oremacs.com/2017/11/18/dired-occur/][thanks to ivy-occur and dired]].

  #+BEGIN_QUOTE
  To delete all *.elc files in the current folder do:

  ~C-x C-f elc$ C-c C-o tDy.~

  To copy all Org files in a Git project to some directory do:

  ~M-x counsel-git org$ C-c C-o tC.~

  To get a list of videos to watch do:

  ~M-x counsel-fzf mp4$ C-c C-o.~
  #+END_QUOTE

  #+begin_src emacs-lisp :results silent
  (use-package counsel
    :bind (("C-x C-f" . counsel-find-file)))
  #+end_src
